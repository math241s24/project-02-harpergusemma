[
  {
    "objectID": "proposal.html",
    "href": "proposal.html",
    "title": "Fish populations in Bristol Bay, AK",
    "section": "",
    "text": "library(tidyverse)\nlibrary(readr)"
  },
  {
    "objectID": "proposal.html#dataset",
    "href": "proposal.html#dataset",
    "title": "Fish populations in Bristol Bay, AK",
    "section": "Dataset",
    "text": "Dataset\n\nbristolbaydata &lt;- read.csv(\"salmondata/rawsalmon.csv\")"
  },
  {
    "objectID": "proposal.html#reason-for-choosing-this-dataset",
    "href": "proposal.html#reason-for-choosing-this-dataset",
    "title": "Fish populations in Bristol Bay, AK",
    "section": "Reason for Choosing this Dataset",
    "text": "Reason for Choosing this Dataset\nWe chose these data because we think it provides a lot of information across both spatial and temporal scales about salmon populations that could reflect some interesting environmental and political variables and that could make for an interesting visualization. We all have pretty environmentally focused interests, so we thought it could be cool to examine an environmental question for this project.\nThe variables included in the Alaska Fish Tickets dataset are all quite useful for our analysis. For every year from 1985 to 2023, there are observations for multiple rivers across the Bristol Bay area that include the counts of pounds of landed salmon, their estimated fish counts, and the counts of fishing vessels, processors, and issued permits. This dataset is not tidy, as there are multiple observations for each year, so we’ll need to widen it so that one observation is a single year and the different rivers are all columns."
  },
  {
    "objectID": "proposal.html#questions-and-analysis-plan",
    "href": "proposal.html#questions-and-analysis-plan",
    "title": "Fish populations in Bristol Bay, AK",
    "section": "Questions and Analysis Plan",
    "text": "Questions and Analysis Plan\nOur question: How do different fish populations change over time in Bristol Bay in accordance with different policy changes?\nOur plan to answer this question is to merge the different datasets containing information about fish populations, add a variable depicting what policies were in place during the times that each population was measured, and then we plan to create an interactive map that shows how the populations changed over time using leaflet that will be organized by different salmon populations and different policies in place."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "Salmon of Bristol Bay",
    "section": "",
    "text": "This project was developed by Gus Compton, Emma Campbell, and Harper Lethin for MATH/STAT241 at Reed College."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "project-02",
    "section": "",
    "text": "This is a Quarto website.\nTo learn more about Quarto websites visit https://quarto.org/docs/websites.\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "index.html#introduction",
    "href": "index.html#introduction",
    "title": "Project 2",
    "section": "Introduction",
    "text": "Introduction"
  },
  {
    "objectID": "proposal.html#high-level-goal",
    "href": "proposal.html#high-level-goal",
    "title": "Fish populations in Bristol Bay, AK",
    "section": "High Level Goal",
    "text": "High Level Goal\nTo create an interactive visualization that allows people to explore how various environmental factors and policy changes affect the salmon population in Bristol Bay."
  },
  {
    "objectID": "proposal.html#plan-of-attack",
    "href": "proposal.html#plan-of-attack",
    "title": "Fish populations in Bristol Bay, AK",
    "section": "Plan of Attack",
    "text": "Plan of Attack\nWeek 11:\n\nTidy the dataset (Harper)\nIdentify relevant policy changes around Bristol Bay (Gus)\nGet environmental data to associate with salmon data (Emma)\nDraft the code for visualization (Everyone)\n\nWeek 12:\n\nGet peer reviewed\nDraft writeup (Harper & Gus)\nFinalize code (Everyone)\n\nWeek 13:\n\nDevelop presentation (Emma)\nPresent the project\nContinue working on writeup (Everyone)"
  },
  {
    "objectID": "presentation.html#background",
    "href": "presentation.html#background",
    "title": "Bristol Bay Salmon",
    "section": "Background",
    "text": "Background\nCommercial fishing in Alaska is a huge industry, as salmon is the main export product of the state after oil and natural gas. Commercial fishing contributes ~5% of Alaska’s economy.\nSalmon harvest in Alaska accounts for ~80% of the total North American wild-caught salmon.\nCommercial fishing regulation changes combined with salmon habitat destruction and climate change leave fishermen constantly speculating about the effects of regulation changes on salmon populations."
  },
  {
    "objectID": "presentation.html#methods-text-analysis",
    "href": "presentation.html#methods-text-analysis",
    "title": "Bristol Bay Salmon",
    "section": "Methods: Text Analysis",
    "text": "Methods: Text Analysis"
  },
  {
    "objectID": "presentation.html#methods-salmon-data",
    "href": "presentation.html#methods-salmon-data",
    "title": "Bristol Bay Salmon",
    "section": "Methods: Salmon Data",
    "text": "Methods: Salmon Data"
  },
  {
    "objectID": "presentation.html#results-text-analysis",
    "href": "presentation.html#results-text-analysis",
    "title": "Bristol Bay Salmon",
    "section": "Results: Text Analysis",
    "text": "Results: Text Analysis"
  },
  {
    "objectID": "presentation.html#results-salmon-data",
    "href": "presentation.html#results-salmon-data",
    "title": "Bristol Bay Salmon",
    "section": "Results: Salmon Data",
    "text": "Results: Salmon Data"
  },
  {
    "objectID": "presentation.html#methods-salmon-data-text-analysis",
    "href": "presentation.html#methods-salmon-data-text-analysis",
    "title": "Bristol Bay Salmon",
    "section": "Methods: Salmon Data, Text Analysis",
    "text": "Methods: Salmon Data, Text Analysis\nSalmon data from Alaska Department of Fish and Game\n-every observation is one species of fish in one area of Alaska during one year\n-number of fish, landed weight of fish, number of commercial fishing permits issued, number of processors, number of fishing vessels"
  },
  {
    "objectID": "presentation.html#methods-salmon-data-text-analysis-1",
    "href": "presentation.html#methods-salmon-data-text-analysis-1",
    "title": "Bristol Bay Salmon",
    "section": "Methods: Salmon Data, Text Analysis",
    "text": "Methods: Salmon Data, Text Analysis\nCommercial fishing regulation data in Alaska doesn’t exist, but\nThe AK Legislature has a system of websites that show every single resolution and bill passed from the 18th legislature (1993) to the 33rd legislature (2023)."
  },
  {
    "objectID": "presentation.html#methods-salmon-data-text-analysis-2",
    "href": "presentation.html#methods-salmon-data-text-analysis-2",
    "title": "Bristol Bay Salmon",
    "section": "Methods: Salmon Data, Text Analysis",
    "text": "Methods: Salmon Data, Text Analysis"
  },
  {
    "objectID": "presentation.html#results-salmon-data-1",
    "href": "presentation.html#results-salmon-data-1",
    "title": "Bristol Bay Salmon",
    "section": "Results: Salmon Data",
    "text": "Results: Salmon Data"
  },
  {
    "objectID": "presentation.html#results-shiny-app",
    "href": "presentation.html#results-shiny-app",
    "title": "Bristol Bay Salmon",
    "section": "Results: Shiny App",
    "text": "Results: Shiny App"
  },
  {
    "objectID": "index.html#methods",
    "href": "index.html#methods",
    "title": "Project 2",
    "section": "Methods",
    "text": "Methods\nTo obtain the text data from the Alaska legislature on fishing, we scraped the website for all the bills within the “Fish and Game” subject. Using the rvest package and significant help from the Data Lab, we were able to scrape the site and create a data frame with each bill from each year on the subject of Fish and Game.\n\n\n# A tibble: 6 × 4\n  Legislature Name    Link                                             FULL_TEXT\n        &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;                                            &lt;chr&gt;    \n1          33 HB0020A https://www.akleg.gov/basis/Bill/Text/33?Hsid=H… \"\\n\\r\\n0…\n2          33 HB0039A https://www.akleg.gov/basis/Bill/Text/33?Hsid=H… \"\\n\\r\\n0…\n3          33 HB0040A https://www.akleg.gov/basis/Bill/Text/33?Hsid=H… \"\\n\\r\\n0…\n4          33 HB0042A https://www.akleg.gov/basis/Bill/Text/33?Hsid=H… \"\\n\\r\\n0…\n5          33 HB0054A https://www.akleg.gov/basis/Bill/Text/33?Hsid=H… \"\\n\\r\\n0…\n6          33 HB0064A https://www.akleg.gov/basis/Bill/Text/33?Hsid=H… \"\\n\\r\\n0…\n\n\nWe then created a function which divided the legis dataset by line and subsetted it into the lines which contained a given keyword. The length of this subset was appended into a new dataframe providing the number of lines containing the keyword for each bill. This was then organized by year into legis_word_longer.\n\nleng &lt;- length(legis$Legislature)\n\ngetti &lt;- function(word){\n  word_freq &lt;- c()\n  for (i in 1:leng){ #looping through each bill\n    legis_line &lt;- legis$FULL_TEXT[i] %&gt;%\n    str_split(\"(?&lt;=\\\\.)\\\\s*\") %&gt;% \n    pluck(1) \n    word_freq_i &lt;- legis_line %&gt;%\n    str_subset(word) %&gt;%\n    length()\n    word_freq &lt;- append(word_freq, word_freq_i)\n  }\n  return(word_freq) #returns a vector of the keyword counts for each bill\n}\n\nlegis_word &lt;- legis %&gt;% \n  mutate(fish = getti(\"[F/f]ish\")) %&gt;%\n  mutate(fisheries = getti(\"[F/f]isher[ies/y]\")) %&gt;%\n  mutate(permit = getti(\"[P/p]ermit\")) %&gt;%\n  mutate(vessel = getti(\"[V/v]essel\")) %&gt;%\n  mutate(salmon = getti(\"[S/s]almon\")) %&gt;%\n  mutate(limit = getti(\"[L/l]imit\")) \nlegis_word_longer &lt;- legis_word %&gt;% \n  select(-FULL_TEXT) %&gt;%\n  pivot_longer(c('fish', 'fisheries', 'permit', 'vessel', 'salmon', 'limit'), names_to = \"word\", values_to = \"times_mentioned\") %&gt;%\n  mutate(Year = Legislature) %&gt;%\n  mutate(Year = case_when(\n    Legislature == 33 ~ 2023,\n    Legislature == 32 ~ 2021,\n    Legislature == 31 ~ 2019,\n    Legislature == 30 ~ 2017,\n    Legislature == 29 ~ 2015,\n    Legislature == 28 ~ 2013,\n    Legislature == 27 ~ 2011,\n    Legislature == 26 ~ 2009,\n    Legislature == 25 ~ 2007,\n    Legislature == 24 ~ 2005,\n    Legislature == 23 ~ 2003,\n    Legislature == 22 ~ 2001,\n    Legislature == 21 ~ 1999,\n    Legislature == 20 ~ 1997,\n    Legislature == 19 ~ 1995,\n    Legislature == 18 ~ 1993,\n    Legislature == 17 ~ 1991,\n    Legislature == 16 ~ 1989,\n    Legislature == 15 ~ 1987,\n    Legislature == 14 ~ 1985\n  ))\nhead(legis_word_longer)\n\n# A tibble: 6 × 6\n  Legislature Name    Link                           word  times_mentioned  Year\n        &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;                          &lt;chr&gt;           &lt;int&gt; &lt;dbl&gt;\n1          33 HB0020A https://www.akleg.gov/basis/B… fish                3  2023\n2          33 HB0020A https://www.akleg.gov/basis/B… fish…               3  2023\n3          33 HB0020A https://www.akleg.gov/basis/B… perm…               0  2023\n4          33 HB0020A https://www.akleg.gov/basis/B… vess…               0  2023\n5          33 HB0020A https://www.akleg.gov/basis/B… salm…               0  2023\n6          33 HB0020A https://www.akleg.gov/basis/B… limit               0  2023"
  }
]