{
  "hash": "562e84799a28047a55f98ebe0a7fa416",
  "result": {
    "markdown": "::: {.cell}\n\n```{.r .cell-code}\n# Load necessary libraries\nlibrary(tidyverse)\nlibrary(tidytext)\nlibrary(textdata)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsalmon <- read_csv(\"salmondata/rawsalmon.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nRows: 1902 Columns: 9\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (2): Area, Species Name\ndbl (7): Year, Number Of Fish (estimated), Landed Weight (lbs), Whole Weight...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\nsalmon <- salmon %>% rename(species = `Species Name`,\n                            num_fish = `Number Of Fish (estimated)`,\n                            land_weight = `Landed Weight (lbs)`,\n                            whole_weight = `Whole Weight (lbs)`,\n                            num_permit = `Permit Count`,\n                            num_processor = `Processor Count`,\n                            num_vessel = `Vessel Count`)\nwrite.csv(salmon, \"salmondata/salmon.csv\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(salmon, aes(x = Year, y = num_fish)) +\n  geom_line(stat = \"identity\", aes(color = species))\n```\n\n::: {.cell-output-display}\n![](DataWrangling_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nfishandgame <- read.csv(\"fish_and_game.csv\")\nfishandgame <- fishandgame %>%\n  mutate(Year = case_when(\n    Legislature == 33 ~ 2023,\n    Legislature == 32 ~ 2021,\n    Legislature == 31 ~ 2019,\n    Legislature == 30 ~ 2017,\n    Legislature == 29 ~ 2015,\n    Legislature == 28 ~ 2013,\n    Legislature == 27 ~ 2011,\n    Legislature == 26 ~ 2009,\n    Legislature == 25 ~ 2007,\n    Legislature == 24 ~ 2005,\n    Legislature == 23 ~ 2003,\n    Legislature == 22 ~ 2001,\n    Legislature == 21 ~ 1999,\n    Legislature == 20 ~ 1997,\n    Legislature == 19 ~ 1995,\n    Legislature == 18 ~ 1993,\n    Legislature == 17 ~ 1991,\n    Legislature == 16 ~ 1989,\n    Legislature == 15 ~ 1987,\n    Legislature == 14 ~ 1985,\n  ))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nfishandgame <- fishandgame %>%\n  mutate(FULL_TEXT = tolower(FULL_TEXT)) %>%\n  mutate(FULL_TEXT = gsub(\"[[:punct:]]\", \"\", FULL_TEXT),\n         FULL_TEXT = str_replace_all(FULL_TEXT, \"\\\\b\\\\d+\\\\b\", \"\"),\n        FULL_TEXT = str_replace_all(FULL_TEXT, \"\\\\b\\\\w*\\\\d+\\\\w*\\\\b\", \"\"))\n\n\n tokenized_fishandgame <- fishandgame %>%\n  unnest_tokens(word, FULL_TEXT)\n \n data(\"stop_words\")\n stopfishandgame <- tokenized_fishandgame %>%\n   anti_join(stop_words)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nJoining with `by = join_by(word)`\n```\n:::\n\n```{.r .cell-code}\nsalmontextanalysisdf <- inner_join(stopfishandgame, salmon, by = \"Year\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning in inner_join(stopfishandgame, salmon, by = \"Year\"): Detected an unexpected many-to-many relationship between `x` and `y`.\nℹ Row 1 of `x` matches multiple rows in `y`.\nℹ Row 1862 of `y` matches multiple rows in `x`.\nℹ If a many-to-many relationship is expected, set `relationship =\n  \"many-to-many\"` to silence this warning.\n```\n:::\n\n```{.r .cell-code}\nthreshold <- 50000\n\nsalmontextanalysisdf %>%\n  count(word, sort = TRUE) %>%\n  filter(n > threshold) %>%\n  ggplot(aes(y = fct_reorder(word, n), x = n, fill = log(n))) +\n  geom_col(show.legend = FALSE) +\n  labs(\n    title = \"Frequency of words in Alaksa Department of Fish and Game bills\",\n    subtitle = \"Words occurring more than 50,000 times\",\n    y = NULL, x = NULL\n  )\n```\n\n::: {.cell-output-display}\n![](DataWrangling_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "DataWrangling_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}